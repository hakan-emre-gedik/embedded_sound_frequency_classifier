SSI1_DATA			EQU		0x40009008
SSI1_SR				EQU		0x4000900C
GPIO_PORTD_DATA		EQU 0x400073FC ; Access ALL
	
;LABEL		DIRECTIVE	VALUE		COMMENT
			AREA    	SCREEN_SEND_COMMAND, READONLY, CODE
			THUMB
			EXPORT  	SCREEN_SEND_COMMAND; Make available

			; LEAVE R0, THE BYTE TO BE PUSHED
SCREEN_SEND_COMMAND_ PROC
			LDR		R1, =GPIO_PORTD_DATA 
			LDR		R2, [R1]
			BIC		R2, #0x40 
			STR		R2, [R1]
			
			LDR		R1, =SSI1_DATA
			LDR		R5, =SSI1_SR
check 		LDR		R4, [R5]
			ANDS	R4, 0x10 ; IS SSI BUSY? 
			BNE		check 
			STR		R0, [R1] 
			BX LR 
			ENDP 